<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="ContainerButton">
        <button class="control-button main">
            <i class="fa fa-beer" role="img" aria-label="Container" title="Container"/>
            Container
        </button>
    </t>

    <t t-name="TareButton">
        <button class="control-button second mode-button" data-mode="tare">
            Tare
        </button>
    </t>

    <t t-name="ContainerListScreenWidget">
         <div class="containerlist-screen screen">
             <div class="screen-content">
                 <section class="top-content">
                     <span class="button back">
                         <i class="fa fa-angle-double-left"/>
                         Cancel
                     </span>
                     <span class="searchbox">
                         <input placeholder="Search Containers"/>
                         <span class="search-clear"/>
                     </span>
                     <span class="searchbox"/>
                     <span class="button delete-container oe_hidden" role="img" aria-label="Delete container" title="Delete container">
                         <i class="fa fa-beer"/>
                         <i class="fa fa-trash"/>
                     </span>
                     <span class="button next oe_hidden highlight">
                         Select a container
                         <i class="fa fa-angle-double-right"/>
                     </span>
                 </section>
                 <section class="full-content">
                     <div class="window">
                         <section class="subwindow">
                             <div class="subwindow-container">
                                 <div class="subwindow-container-fix touch-scrollable scrollable-y">
                                     <table class="container-list">
                                         <thead>
                                             <tr>
                                                 <th>Name</th>
                                                 <th>Barcode</th>
                                                 <th>Weight</th>
                                             </tr>
                                         </thead>
                                         <tbody class="container-list-contents">
                                         </tbody>
                                     </table>
                                 </div>
                             </div>
                         </section>
                     </div>
                 </section>
             </div>
         </div>
     </t>

    <t t-name="ContainerLine">
        <tr class="container-line" t-att-data-id="container.id">
            <td>
                <t t-esc="container.name"/>
            </td>
            <td>
                <t t-esc="container.barcode"/>
            </td>
            <td>
                <t t-esc="container.weight"/>
            </td>
        </tr>
    </t>

    <t t-extend='Orderline'>
        <t t-jquery='.info-list:last-child' t-operation='prepend'>
            <t t-if="line.get_container()">
                <ul class="info-list">
                    <ul class="info-list">
                        <i><t t-if="line.get_gross_weight()">
                            <li class="info">
                                Gross : <t t-esc="line.get_gross_weight()"/> kg
                            </li>
                        </t>
                        <li class="info">
                            <i class='fa fa-beer'/> :
                            <t t-esc="line.get_container().weight"/> kg 
                            - 
                            <t t-esc="line.get_container().name"/>
                        </li></i>
                    </ul>
                </ul>
            </t>
            <t t-if="line.get_tare()">
                <ul class="info-list">
                    <ul class="info-list">
                        <i><t t-if="line.get_gross_weight()">
                            <li class="info">
                                Gross : <t t-esc="line.get_gross_weight()"/> kg
                            </li>
                        </t>
                        <li class="info">
                            <i class='fa fa-beer'/> :
                            <t t-esc="line.get_tare()"/> kg 
                            - Manual tare
                        </li></i>
                    </ul>
                </ul>
            </t>
            <div class="pos-right-align">
                <t t-esc="line.get_tare_mode()"/>
            </div>
        </t>
    </t>

    <t t-name="ContainerScaleScreenWidget">
        <div class="scale-screen screen">
            <div class="screen-content">
                <div class="top-content">
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Back
                    </span>
                    <h1 class='product-name'>Add a container</h1>
                </div>
                <div class="centered-content">
                    <div class='weight js-weight'>
                        <t t-esc="widget.get_product_weight_string()" />
                    </div>
                    <div class='container-name'>
                        <span class='label'>Container name: </span><br/>
                        <input class='detail container-name' name='container_name' placeholder="Container"></input>
                    </div>
                    <div class='add-container'>
                        Save
                        <i class='fa fa-angle-double-right'></i>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-extend="PosTicket">
        <t t-jquery='.receipt-orderlines' t-operation='replace'>              
            <table>
                <colgroup>
                    <col width='50%' />
                    <col width='25%' />
                    <col width='25%' />
                </colgroup>
                <tr t-foreach="orderlines" t-as="orderline">
                    <t t-if="orderline.get_tare_mode() == undefined
                            and orderline.product.barcode != 'CONTAINER'">
                        <td>
                            <t t-esc="orderline.get_product().display_name"/>
                            <t t-if="orderline.get_discount() > 0">
                                <div class="pos-disc-font">
                                    With a <t t-esc="orderline.get_discount()"/>% discount
                                </div>
                            </t>
                       </td>
                       <td class="pos-right-align">
                            <t t-esc="orderline.get_quantity_str_with_unit()"/>
                       </td>
                       <td class="pos-right-align">
                            <t t-esc="widget.format_currency(orderline.get_display_price())"/>
                       </td>
                    </t>
                </tr>
            </table>
            <t t-if="order.has_tare_line('AUTO')">
                <table>
                    <colgroup>
                        <col width='20%' />
                        <col width='60%' />
                        <col width='20%' />
                    </colgroup>
                    <td></td>
                    <td>
                        <center>------------------------</center>
                        <center>Pes√©e automatique</center>
                        <center>------------------------</center>
                    </td>
                </table>
            </t>
            <table>
                <colgroup>
                    <col width='50%' />
                    <col width='25%' />
                    <col width='25%' />
                </colgroup>
                <tr t-foreach="orderlines" t-as="orderline">
                    <t t-if="orderline.get_tare_mode() == 'AUTO'">
                        <tr>
                            <td>
                                <t t-esc="orderline.get_product().display_name"/>
                                <t t-if="orderline.get_discount() > 0">
                                    <div class="pos-disc-font">
                                        With a <t t-esc="orderline.get_discount()"/>% discount
                                    </div>
                                </t>
                            </td>
                            <td class="pos-right-align">
                                <t t-esc="orderline.get_quantity_str_with_unit()"/>
                            </td>
                            <td class="pos-right-align">
                                <t t-esc="widget.format_currency(orderline.get_display_price())"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div style="margin-left:5%">
                                    TW : <t t-esc="orderline.gross_weight"/>
                                    <t t-esc="orderline.get_unit().name"/>
                                </div>
                            </td>
                        </tr>
                    </t>
                </tr>
            </table>
            <t t-if="order.has_tare_line('MAN')">
                <table>
                    <colgroup>
                        <col width='20%' />
                        <col width='60%' />
                        <col width='20%' />
                    </colgroup>
                    <td></td>
                    <td>
                        <center>------------------------</center>
                        <center>Saisie manuelle</center>
                        <center>------------------------</center>
                    </td>
                </table>
            </t>
            <table>
                <colgroup>
                    <col width='50%' />
                    <col width='25%' />
                    <col width='25%' />
                </colgroup>
                <tr t-foreach="orderlines" t-as="orderline">
                    <t t-if="orderline.get_tare_mode() == 'MAN'">
                        <tr>
                            <td>
                                <t t-esc="orderline.get_product().display_name"/>
                                <t t-if="orderline.get_discount() > 0">
                                    <div class="pos-disc-font">
                                        With a <t t-esc="orderline.get_discount()"/>% discount
                                    </div>
                                </t>
                            </td>
                            <td class="pos-right-align">
                                <t t-esc="orderline.get_quantity_str_with_unit()"/>
                            </td>
                            <td class="pos-right-align">
                                <t t-esc="widget.format_currency(orderline.get_display_price())"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                               <div style="margin-left:5%">
                                   TW : <t t-esc="orderline.gross_weight"/>
                                   <t t-esc="orderline.get_unit().name"/>
                               </div>
                            </td>
                        </tr>
                    </t>
                </tr>
            </table>
        </t>
    </t>

</templates>
